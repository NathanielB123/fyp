% "\newunicodechar" and "%format" do similar but not exactly the same thing:
% - "\newunicodechar" works outside of code blocks and is always required for 
%   any characters not in "[utf8]{inputenc}". I'm not entirely sure why but 
%   perhaps it errors before "%format" fires.
%   Note that traditionally one would use "[utf8x]{inputenc}" which declares
%   WAY more unicode characters, but this is sadly incompatible with biblatex...
% - "%format" can replace strings of characters as well as individual ones (in
%   fact, it only replaces if the entire LHS word matches) and overrides 
%   "newunicodechar" (specifically, "\newunicodechar" doesn't actually replace 
%   the unicode character - it only alters how it is displayed, while 
%   "%format" actually does a replacement)

% Based on this distinction, I am organising this file as follows:
% - "\newunicodechar" declarations are intended to define as-close-as-possible
%   translations to the original unicode symbol (even if we might actually
%   desire it to be displayed a slightly different way in the final .pdf)
%   i.e. "\newunicodechar"s basically should never change.
% - "%format" declarations deal with fixing kerning on sequences of unicode, and
%   perform aesthetic replacements (for example, removing the bar from "∆õ")

% The main downside of this approach that I can think of is that inconsistencies
% due to words not matching exactly can crop up silently (e.g. one could 
% "%format ∆õ Œª" but forget "%format ∆õ_ Œª_"). I am hoping that ctrl+f-ing the
% output "main.tex" file for unreplaced characters will be a good-enough
% solution here.

%seperation 2
%latency 2

%subst comment a = "{\text{\rmfamily-{}-} \textit{" a "}}"

\newunicodechar{Œ±}{$\alpha$}
\newunicodechar{Œ≤}{$\beta$}
\newunicodechar{Œ¥}{$\delta$}
\newunicodechar{œÉ}{$\sigma$}
\newunicodechar{Œæ}{$\xi$}
\newunicodechar{Œ∏}{$\theta$}
\newunicodechar{Œª}{$\lambda$}
\newunicodechar{œÅ}{$\rho$}
\newunicodechar{œÄ}{$\pi$}
\newunicodechar{Œ≥}{$\gamma$}
\newunicodechar{∆õ}{$\lambdabar$}
\newunicodechar{Œ∑}{$\eta$}
\newunicodechar{Œµ}{$\varepsilon$}
\newunicodechar{Œì}{$\Gamma$}
\newunicodechar{Œî}{$\Delta$}
\newunicodechar{Œ†}{$\Pi$}
\newunicodechar{Œ£}{$\Sigma$}
\newunicodechar{Œò}{$\Theta$}

\newunicodechar{‚àÄ}{$\forall$}
\newunicodechar{‚àÉ}{$\exists$}
\newunicodechar{‚â°}{$\equiv$}
\newunicodechar{‚áí}{$\Rightarrow$}
\newunicodechar{‚äé}{$\uplus$}
\newunicodechar{‚ä§}{$\top$}
\newunicodechar{‚ä•}{$\bot$}
\newunicodechar{‚ä¢}{$\vdash$}
\newunicodechar{‚àò}{$\circ$}
\newunicodechar{‚àé}{$\blacksquare$}
\newunicodechar{‚âü}{$\stackrel{?}{=}$}
\newunicodechar{‚à∑}{$::$}

\newunicodechar{‚®æ}{$;$}
\newunicodechar{‚ü¶}{$\llbracket$}
\newunicodechar{‚üß}{$\rrbracket$}
\newunicodechar{‚åú}{$\ulcorner$}
\newunicodechar{‚åù}{$\urcorner$}
\newunicodechar{‚ü™}{$\langle\!\langle$}
\newunicodechar{‚ü´}{$\rangle\!\rangle$}
\newunicodechar{‚ñ∑}{$\rhd$}
\newunicodechar{‚ñ°}{$\square$}

\newunicodechar{ùîπ}{$\mathbb{B}$}
\newunicodechar{‚Ñï}{$\mathbb{N}$}
\newunicodechar{‚Ñ§}{$\mathbb{Z}$}
\newunicodechar{ùüô}{$\mathbb{1}$}
\newunicodechar{ùüò}{$\mathbb{0}$}

\newunicodechar{‚äî}{$\sqcup$}
\newunicodechar{‚àß}{$\land$}
\newunicodechar{‚Ü¶}{$\mapsto$}
\newunicodechar{‚ü∂}{$\longrightarrow$}

\newunicodechar{‚àû}{$\infty$}
\newunicodechar{‚â•}{$\geq$}

\newunicodechar{‚ÇÅ}{$_{1}$}
\newunicodechar{‚ÇÇ}{$_{2}$}
\newunicodechar{‚ÇÉ}{$_{3}$}
\newunicodechar{·µ¢}{$_{i}$}
\newunicodechar{‚Çô}{$_{n}$}

\newunicodechar{¬π}{$^{1}$}
\newunicodechar{·µâ}{$^{e}$}
\newunicodechar{‚Åª}{$^{-}$}
\newunicodechar{‚Å∫}{$^{+}$}
\newunicodechar{·∂†}{$_{f}$}
\newunicodechar{‚Å±}{$^{i}$}
\newunicodechar{‚Åø}{$^{n}$}
\newunicodechar{‚Çí}{$_{o}$}
\newunicodechar{·¥æ}{$^{P}$}
\newunicodechar{À¢}{$^{s}$}
\newunicodechar{ ∞}{$^{h}$}
\newunicodechar{·¥¨}{$^{A}$}
\newunicodechar{·¥Æ}{$^{B}$}
\newunicodechar{·¥∫}{$^{N}$}
\newunicodechar{‚±Ω}{$^{V}$}
\newunicodechar{‚à∂}{$:$}

% This is slightly cheating...
\newunicodechar{‚âÖ}{$\simeq$}
\newunicodechar{‚âÉ}{$\approx$}

\newunicodechar{ÃÇ}{$\hat{\ }$}


\newunicodechar{‚àô}{$\bullet$}

\newunicodechar{‚Ä≤}{$'$}

% Override formatting of "not" as "¬¨"
%format not       = "\Varid{ not }"
%format undefined = "\Varid{ undefined }"
%format .         = "\Varid{ . }"

%format *    = "\times"
%format ‚áí    = "\rightarrow"
%format Œ†    = "\Pi"
%format ∆õ    = "\lambda"
%format ‚à£    = "|"
%format TT   = "\Varid{tt}"
%format FF   = "\Varid{ff}"
%format rfl  = "\Varid{refl}"


%format rfl[] = refl []
%format TT[]  = TT []
%format FF[]  = FF []
%format IF-TT = IF- TT
%format IF-FF = IF- FF

%format ∆õ‚Åª¬π  = ∆õ ‚Åª¬π

%format ∆õ_    =  ∆õ _
%format ∆õ‚Åª¬π_  =  ∆õ‚Åª¬π _
%format ∆õ[]   =  ∆õ []
%format ∆õ‚Åª¬π[] = ∆õ‚Åª¬π []
%format ∆õ>    = ∆õ >

%format _*_ = _ * _
%format _*  = _ *
%format  *_ =   * _
%format _‚áí_ = _ ‚áí _
%format _‚áí  = _ ‚áí
%format  ‚áí_ =   ‚áí _

%format ,   = "$,$"
%format _,_ = _ , _
%format _,  = _ ,
%format ,_  = , _
%format ,‚®æ  = , ‚®æ
%format œÄ‚ÇÅ, = œÄ‚ÇÅ ,
%format œÄ‚ÇÇ, = œÄ‚ÇÇ ,

%format Œ£‚ü® = ( "\!"
%format ‚ü©√ó = "\!" ) "\," √ó

%format _[_] = _ [ _ ]
%format _[   = _ [
%format [_]  = [ _ ]


%format `_ = "\texttt{\textasciigrave}" _
%format ` = "\texttt{\textasciigrave}"

%format : = "\bm{:}"

%format Type = "\Keyword{Type}"
%format Set  = Type
%format Set‚ÇÅ = Type ‚ÇÅ

% Some Haskell keywords
%format type   = "\Keyword{type}"
%format family = "\Keyword{family}"

%format refl = "\Keyword{refl}"

%format ¬¨   = "\bm{\neg}"
%format Œª   = "\bm{\lambda}"
%format ‚â°   = "\bm{=}"
%format ‚â°'  = "="
%format _‚â°_ = _ "\!" ‚â° "\!" _

%format ‚â°‚ü®  = ‚â° "\textit{by $"
%format ‚ü©‚â°  = "$}"
%format ‚âÖ‚ü® = ‚â° "\textit{by $"
%format ‚ü©‚âÖ = "$}"

%format ‚â°‚ü®‚ü©‚Ä≤ = "\Varid{=‚ü®‚ü©}"
%format ‚â°‚ü®‚Ä≤  = "\Varid{=‚ü®}"
%format ‚ü©‚Ä≤   = "\Varid{‚ü©}"

%format ‚â°‚ü®‚ü© = "="

%format =   = "\colonequiv"
%format ‚Üê   = "\equiv"
%format ==  = "\equiv"
%format _=_ = _ "\!" == "\!" _
%format ‚àÄ   = "\bm{\Pi}"
%format ‚Üí   = "\bm{\rightarrow}"

%format +   = "+"
%format _+_ = _ + _

%format Œ£   = "\bm{\Sigma}"
%format √ó   = "\bm{\times}"
%format ‚äé   = "\bm{+}"

%format _√ó_ = _ "\!" "\bm{\times}" "\!" _
%format _‚äé_ = _ "\!" "\bm{+}" "\!" _

%format ‚â°-elim    = ‚â° -elim

%format tm‚â°       = tm     "_="
%format A‚â°        = A      "_="
%format B‚â°        = B      "_="
%format A[]‚â°      = A[]    "_="
%format B[]‚â°      = B[]    "_="
%format AŒ¥‚â°       = AŒ¥     "_="
%format M‚â°        = M      "_="
%format N‚â°        = N      "_="
%format M[]‚â°      = M[]    "_="
%format ,‚â°        = ,      "_="
%format Œ†sem‚â°     = Œ†sem   "_="
%format lamM‚â°     = lamM   "_="
%format vzo‚â°      = vzo    "_="
%format app‚â°      = app    "_="
%format lam‚â°      = lam    "_="
%format lamsem‚â°   = lamsem "_="
%format _[_]‚â°     = _[_]   "_="

%format ‚â°[        = ‚â° "^{\textit{$"
%format ]‚â°        = "$}}"

%format _[_]tm‚â°   = _[_]tm "_="
%format ]tm‚â°      = ]tm    "_="
%format []tm‚â°     = []tm   "_="
%format ‚Üë[]‚â°      = ‚Üë[]    "_="
%format ‚Üëos‚â°      = ‚Üëos    "_="
%format ‚Üë‚àòos‚â°     = ‚Üë‚àòos   "_="
%format ‚ü¶‚üßT‚â°      = ‚ü¶‚üßT    "_="
%format to-coe‚â°   = to-coe "_="
%format to-coe‚â°‚Åª¬π = to-coe‚â° "^-1"

%format ùõΩ‚Üí‚â°       = ùõΩ ‚Üí ‚â°
%format ‚üß‚â°‚ü¶       = ‚üß ‚â° ‚ü¶

%format subst     = "\Keyword{transp}"

%format Bool        = "\mathds{B}"
%format Bool-Œ∑      = Bool -Œ∑
%format Bool-Œ∑-prop = Bool -Œ∑-prop
%format Bool-elim   = Bool -elim
%format Bool-rec    = Bool -rec
%format Bool-split  = Bool -split
%format ‚ä§           = "\mathds{1}"
%format tt          = "\bm{\langle}" "\bm{\rangle}"
%format ‚ä•           = "\mathds{O}"
%format ‚ä•-elim      = ‚ä• "\Varid{-elim }"

%format >>*   = >> "^*"
%format _>>_  = _ "\!" >> "\!" _
%format _>>*_ = _ "\!" >>* "\!" _

%format Œ¥-    = Œ¥ "^-"
%format Œ¥+    = Œ¥ "^+"

%format Sub+  = Sub "^+"
%format Sub-  = Sub "^-"
%format >+    = >   "^+"
%format >-    = >   "^-"
%format ]>>+  = ]>> "^+"

%format _>*_  = _ > "^*" _
%format _>+_  = _ > "^+" _

%format --local-confluence = "\text{\rmfamily-{}-}" local-confluence

% Is this a good idea??
%format ‚äè   = "<"
%format ‚äë   = "\le"

%format _‚äë_ = _ ‚äë _
%format tm‚äë = tm "\!" ‚äë
%format ‚äëT  = ‚äë "\!" T

%format ·µó ∏     = "^{\Varid{Ty}}"
%format ·∂ú·µóÀ£    = "^{\Varid{Ctx}}"
%format ·µó·µê     = "^{\Varid{Tm}}"
%format À¢·µò·µá    = "^{\Varid{Sub}}"
%format ‚üß·µó ∏    = ‚üß ·µó ∏
%format ‚üß·∂ú·µóÀ£   = ‚üß ·∂ú·µóÀ£
%format ‚üß·µó·µê    = ‚üß ·µó·µê 
%format ‚üßÀ¢·µò·µá   = ‚üß À¢·µò·µá
%format ‚ü¶_‚üß·µó ∏  = ‚ü¶_‚üß ·µó ∏
%format ‚ü¶_‚üß·∂ú·µóÀ£ = ‚ü¶_‚üß ·∂ú·µóÀ£
%format ‚ü¶_‚üß·µó·µê  = ‚ü¶_‚üß ·µó·µê
%format ‚ü¶_‚üßÀ¢·µò·µá = ‚ü¶_‚üß À¢·µò·µá

%format ·¥æÀ¢ ∞      = "^{\Varid{Psh}}"
%format ‚üß·¥æÀ¢ ∞     = ‚üß ·¥æÀ¢ ∞
%format ‚ü¶_‚üß·¥æÀ¢ ∞   = ‚ü¶_‚üß ·¥æÀ¢ ∞

%format ·¥∫·∂†      = "^{\Varid{Nf}}"
%format ·¥∫·µâ      = "^{\Varid{Ne}}"
%format t·¥∫·∂†     = t ·¥∫·∂†
%format t·¥∫·µâ     = t ·¥∫·µâ
%format u·¥∫·∂†     = u ·¥∫·∂†
%format tu·¥∫·∂†    = tu ·¥∫·∂†
%format t>t·¥∫·∂†   = t>t ·¥∫·∂†
%format u>u·¥∫·∂†   = u>u ·¥∫·∂†
%format tu>tu·¥∫·∂† = tu>tu ·¥∫·∂†

%format Œ£, = "\bm{,}"
%format _Œ£, = _ Œ£,
%format Œ£,_ = Œ£, _
%format _Œ£,_ = _ Œ£, _

%format .fst = . "\!\bm{\pi}_1"
%format .snd = . "\!\bm{\pi}_2"

%format inl  = "\Keyword{in}_1"
%format inr  = "\Keyword{in}_2"

%format AccTm = Acc

%format ^ = "\,\hat{}\,"
%format _^_ = "\Varid{\_}" ^ "\Varid{\_}"
%format _^_>rw_ = "\Varid{\_}" ^ _>rw_

%format ‚âÖ‚àé = ‚àé

%format true  = "\Keyword{tt}"
%format false = "\Keyword{ff}"

%format ‚Ñ∞     = "^{\Varid{Env}}"
%format id‚Ñ∞   = id ‚Ñ∞
%format ]‚Ñ∞    = ] ‚Ñ∞
%format _[_]‚Ñ∞ = _[_] ‚Ñ∞

%format ùí±   = "^{\Varid{Val}}"

%format Nf·¥¨ = Nf "^{\Varid{A}}"

%format idh = id

%format ·µÄ ∞  = "^{\Varid{Th}}"
%format Œ¥·µÄ ∞ = Œ¥ ·µÄ ∞
%format œÉ·µÄ ∞ = œÉ ·µÄ ∞ 
%format Œ≥·µÄ ∞ = Œ≥ ·µÄ ∞

%format ^·µÄ ∞ = ^ ·µÄ ∞
%format ‚Å∫·µÄ ∞ = ‚Å∫ ·µÄ ∞
%format ‚®æ·µÄ ∞ = ‚®æ ·µÄ ∞

%format _^·µÄ ∞_ = _ ^·µÄ ∞ _ 
%format _‚Å∫·µÄ ∞_ = _ ‚Å∫·µÄ ∞ _
%format _‚®æ·µÄ ∞_ = _ ‚®æ·µÄ ∞ _

%format id·µÄ ∞  = id ·µÄ ∞   
%format id‚®æ·µÄ ∞ = id‚®æ ·µÄ ∞
%format ‚®æid·µÄ ∞ = ‚®æid ·µÄ ∞
%format ‚®æ‚®æ·µÄ ∞  = ‚®æ‚®æ ·µÄ ∞ 
%format wk·µÄ ∞  = wk ·µÄ ∞ 
%format wk·µÄ ∞  = wk ·µÄ ∞ 

%format ‚±Ω = "^{\Varid{V}}"
%format t‚±Ω = t ‚±Ω 
%format u‚±Ω = u ‚±Ω
%format v‚±Ω = v ‚±Ω
