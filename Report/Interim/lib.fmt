% "\newunicodechar" and "%format" do similar but not exactly the same thing:
% - "\newunicodechar" works outside of code blocks and is always required for 
%   any characters not in "[utf8]{inputenc}". I'm not entirely sure why but 
%   perhaps it errors before "%format" fires.
%   Note that traditionally one would use "[utf8x]{inputenc}" which declares
%   WAY more unicode characters, but this is sadly incompatible with biblatex...
% - "%format" can replace strings of characters as well as individual ones (in
%   fact, it only replaces if the entire LHS word matches) and overrides 
%   "newunicodechar" (specifically, "\newunicodechar" doesn't actually replace 
%   the unicode character - it only alters how it is displayed, while 
%   "%format" actually does a replacement)

% Based on this distinction, I am organising this file as follows:
% - "\newunicodechar" declarations are intended to define as-close-as-possible
%   translations to the original unicode symbol (even if we might actually
%   desire it to be displayed a slightly different way in the final .pdf)
%   i.e. "\newunicodechar"s basically should never change.
% - "%format" declarations deal with fixing kerning on sequences of unicode, and
%   perform aesthetic replacements (for example, removing the bar from "Æ›")

% The main downside of this approach that I can think of is that inconsistencies
% due to words not matching exactly can crop up silently (e.g. one could 
% "%format Æ› Î»" but forget "%format Æ›_ Î»_"). I am hoping that ctrl+f-ing the
% output "main.tex" file for unreplaced characters will be a good-enough
% solution here.

%seperation 2
%latency 2

%subst comment a = "{\text{\rmfamily-{}-} \textit{" a "}}"

\newunicodechar{Î²}{$\beta$}
\newunicodechar{Î´}{$\delta$}
\newunicodechar{Ïƒ}{$\sigma$}
\newunicodechar{Î¾}{$\xi$}
\newunicodechar{Î¸}{$\theta$}
\newunicodechar{Î»}{$\lambda$}
\newunicodechar{Æ›}{$\lambdabar$}
\newunicodechar{Î·}{$\eta$}
\newunicodechar{Îµ}{$\varepsilon$}
\newunicodechar{Î“}{$\Gamma$}
\newunicodechar{Î”}{$\Delta$}
\newunicodechar{Î }{$\Pi$}
\newunicodechar{Î£}{$\Sigma$}
\newunicodechar{Î˜}{$\Theta$}

\newunicodechar{âˆ€}{$\forall$}
\newunicodechar{â‰¡}{$\equiv$}
\newunicodechar{â‡’}{$\Rightarrow$}
\newunicodechar{âŠŽ}{$\uplus$}
\newunicodechar{âŠ¤}{$\top$}
\newunicodechar{âŠ¥}{$\bot$}
\newunicodechar{âŠ¢}{$\vdash$}
\newunicodechar{âˆ˜}{$\circ$}
\newunicodechar{âˆŽ}{$\blacksquare$}
\newunicodechar{â‰Ÿ}{$\stackrel{?}{=}$}

\newunicodechar{â¨¾}{$;$}
\newunicodechar{âŸ¦}{$\llbracket$}
\newunicodechar{âŸ§}{$\rrbracket$}

\newunicodechar{ð”¹}{$\mathbb{B}$}
\newunicodechar{â„•}{$\mathbb{N}$}
\newunicodechar{â„¤}{$\mathbb{Z}$}

\newunicodechar{âŠ”}{$\sqcup$}
\newunicodechar{â†¦}{$\mapsto$}
\newunicodechar{âŸ¶}{$\longrightarrow$}

\newunicodechar{âˆž}{$\infty$}
\newunicodechar{â‰¥}{$\geq$}

\newunicodechar{â‚}{$_{1}$}
\newunicodechar{â‚‚}{$_{2}$}
\newunicodechar{â‚ƒ}{$_{3}$}
\newunicodechar{áµ¢}{$_{i}$}
\newunicodechar{â‚™}{$_{n}$}

% \newunicodechar{Â¹}{$^{1}$}
\newunicodechar{áµ‰}{$^{e}$}
\newunicodechar{â»}{$^{-}$}
\newunicodechar{âº}{$^{+}$}
\newunicodechar{á¶ }{$_{f}$}
\newunicodechar{â±}{$^{i}$}
\newunicodechar{â¿}{$^{n}$}
\newunicodechar{âˆ™}{$\bullet$}

\newunicodechar{â€²}{$'$}

% Override formatting of "not" as "Â¬"
%format not       = "\Varid{ not }"
%format undefined = "\Varid{ undefined }"
%format .         = "\Varid{ . }"

%format Æ›    = Î»
%format Æ›â»Â¹  = Æ› â»Â¹

%format Æ›_   = Î» _
%format Æ›â»Â¹_ = Æ›â»Â¹ _

%format `_ = "\texttt{\textasciigrave}" _
%format ` = "\texttt{\textasciigrave}"

%format Type = "\Keyword{Type}"
%format Set  = Type

% Some Haskell keywords
%format type   = "\Keyword{type}"
%format family = "\Keyword{family}"

%format â‰¡   = "="
%format _â‰¡_ = _ "\!" "=" "\!" _
%format â‰¡âŸ¨  = "=" "\textit{by}" "\;" "\langle"
%format â‰¡âŸ¨âŸ© = "=" "\textit{by}" "\;"
%format =   = "\colonequiv"
%format ==  = "\equiv"
%format _=_ = _ "\!" == "\!" _
%format âˆ€   = "\Pi"
%format âŠŽ   = "+"
%format _âŠŽ_ = _ "\!" "+" "\!" _

%format tmâ‰¡       = tm     "_="
%format Aâ‰¡        = A      "_="
%format Bâ‰¡        = B      "_="
%format A[]â‰¡      = A[]    "_="
%format B[]â‰¡      = B[]    "_="
%format AÎ´â‰¡       = AÎ´     "_="
%format Mâ‰¡        = M      "_="
%format Nâ‰¡        = N      "_="
%format M[]â‰¡      = M[]    "_="
%format ,â‰¡        = ,      "_="
%format Î semâ‰¡     = Î sem   "_="
%format lamMâ‰¡     = lamM   "_="
%format vzoâ‰¡      = vzo    "_="
%format appâ‰¡      = app    "_="
%format lamâ‰¡      = lam    "_="
%format lamsemâ‰¡   = lamsem "_="
%format _[_]â‰¡     = _[_]   "_="
%format ]â‰¡        = ]      "_="
%format _[_]tmâ‰¡   = _[_]tm "_="
%format ]tmâ‰¡      = ]tm    "_="
%format []tmâ‰¡     = []tm   "_="
%format â†‘[]â‰¡      = â†‘[]    "_="
%format â†‘osâ‰¡      = â†‘os    "_="
%format â†‘âˆ˜osâ‰¡     = â†‘âˆ˜os   "_="
%format âŸ¦âŸ§Tâ‰¡      = âŸ¦âŸ§T    "_="
%format to-coeâ‰¡   = to-coe "_="
%format to-coeâ‰¡â»Â¹ = to-coeâ‰¡ "^-1"


%format Bool        = "\mathbb{B}"
%format Bool-Î·      = "\mathbb{B}" -Î·
%format Bool-Î·-prop = "\mathbb{B}" -Î·-prop
%format âŠ¤           = "\mathbb{1}"
%format tt          = "\langle" "\rangle"
%format âŠ¥           = "\mathbb{0}"
%format âŠ¥-elim      = "\mathbb{0}" "\Varid{-elim }"
%format âŠ¤'          = âŠ¤
%format ð”¹'          = ð”¹
%format â„•'          = â„•

%format >>*   = >> "^*"
%format _>>_  = _ "\!" >> "\!" _
%format _>>*_ = _ "\!" >>* "\!" _

%format Î´-    = Î´ "^-"
%format Î´+    = Î´ "^+"

%format Sub+  = Sub "^+"
%format Sub-  = Sub "^-"
%format >+    = >   "^+"
%format >-    = >   "^-"

%format --local-confluence = "\text{\rmfamily-{}-}" local-confluence